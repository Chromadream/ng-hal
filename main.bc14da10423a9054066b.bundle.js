webpackJsonp([2],{767:function(e,t){e.exports=".github-link{color:#333}.github-link:hover{color:#4078c0;text-decoration:none}.octicon{fill:currentColor}"},556:function(e,t){e.exports='<div class="container p-t-2 p-b-3">\n\n  <h1>HAL Navigator</h1>\n\n  <div class="row">\n    <div class="col-md-9">\n      <p class="lead">Hyping thru media with the hypermedia abstraction language.</p>\n    </div>\n    <div class="col-md-3 text-md-right">\n      <a href="https://github.com/dherges/ng2-hal" aria-label="Homepage" class="github-link">\n          <svg aria-hidden="true" class="octicon" height="32" version="1.1" viewBox="0 0 16 16" width="32"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>\n      </a>\n\n      <a href="https://www.npmjs.com/package/ng2-hal">\n        <svg viewBox="0 0 18 7" height="31" width="82">\n          <path fill="#CB3837" d="M0,0v6h5v1h4v-1h9v-6"></path>\n          <path fill="#FFF" d="M1,1v4h2v-3h1v3h1v-4h1v5h2v-4h1v2h-1v1h2v-4h1v4h2v-3h1v3h1v-3h1v3h1v-4"></path>\n        </svg>\n      </a>\n    </div>\n  </div>\n\n  <hr>\n\n  <main>\n    <form (ngSubmit)="onFormSubmit()">\n      <div class="form-group row">\n        <label for="formVerb" class="col-sm-2">HTTP Verb:</label>\n        <div class="col-sm-10">\n          <select class="form-control" id="formVerb"\n                  name="verb" [(ngModel)]="model.verb">\n            <option>GET</option>\n            <option>POST</option>\n            <option>PUT</option>\n            <option>DELETE</option>\n            <option>PATCH</option>\n            <option>HEAD</option>\n            <option>OPTIONS</option>\n          </select>\n        </div>\n      </div>\n      <div class="form-group row">\n        <label for="formUrlInput" class="col-sm-2">URL:</label>\n        <div class="col-sm-10">\n          <input id="formUrlInput" class="form-control"\n                 type="text" name="url" [(ngModel)]="model.url"/>\n        </div>\n      </div>\n      <div class="form-group row">\n        <div class="offset-sm-2 col-sm-10">\n          <button type="submit" class="btn btn-primary">Navigate</button>\n        </div>\n      </div>\n    </form>\n  </main>\n\n  <nav>\n    <ul class="nav nav-tabs m-b-1 p-l-1 p-r-1">\n      <li class="nav-item"><a class="nav-link" href="#" [class.active]="activeTab == \'hal\'"\n          (click)="onSwitchTab(\'hal\')">HAL Resource</a></li>\n      <li class="nav-item"><a class="nav-link" href="#" [class.active]="activeTab == \'links\'"\n          (click)="onSwitchTab(\'links\')">Links</a></li>\n      <li class="nav-item"><a class="nav-link" href="#" [class.active]="activeTab == \'embedded\'"\n          (click)="onSwitchTab(\'embedded\')">Embedded</a></li>\n      <li class="nav-item"><a class="nav-link" href="#" [class.active]="activeTab == \'navigation\'"\n          (click)="onSwitchTab(\'navigation\')">Navigation</a></li>\n      <li class="nav-item"><a class="nav-link" href="#" [class.active]="activeTab == \'http\'"\n          (click)="onSwitchTab(\'http\')">HTTP</a></li>\n    </ul>\n  </nav>\n\n  <aside *ngIf="activeTab == \'hal\'">\n    <div class="row">\n      <div class="col-md-6">\n        <h4>Original Resource</h4>\n        <pre><code class="small">{{ resource?.original() | json }}</code></pre>\n      </div>\n      <div class="col-md-6">\n        <h4>Resource <small><em>(normalized by halfred)</em></small></h4>\n        <pre><code class="small">{{ resource | json }}</code></pre>\n      </div>\n    </div>\n  </aside>\n\n  <aside *ngIf="activeTab == \'links\'">\n    <div class="row">\n      <div class="col-md-6">\n        <h4>Links <small><em>resource.allLinks()</em></small></h4>\n        <pre><code class="small">{{ resource?.allLinks() | json }}</code></pre>\n      </div>\n      <div class="col-md-6">\n        <h4>CURIEs <small><em>resource.curieArray()</em></small></h4>\n        <pre><code class="small">{{ resource?.curieArray() | json }}</code></pre>\n      </div>\n    </div>\n  </aside>\n\n  <aside *ngIf="activeTab == \'embedded\'">\n    <div class="row">\n      <div class="col-md-12">\n        <h4>All Embedded Resources <small><em>resource.allEmbeddedResources()</em></small></h4>\n        <pre><code class="small">{{ resource?.allEmbeddedResources() | json}}</code></pre>\n      </div>\n    </div>\n  </aside>\n\n  <aside *ngIf="activeTab == \'navigation\'">\n    <div class="row">\n      <div class="col-md-12">\n        <h4>Navigation</h4>\n        <ul>\n          <li *ngFor="let link of links">\n            <a href="{{link.href}}" (click)="onNavigate(link)">rel={{link.rel}}, href={{link.href}}</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </aside>\n\n  <aside *ngIf="activeTab == \'http\'">\n    <div class="row">\n      <div class="col-md-6">\n        <h4>Request</h4>\n        <pre><code class="small">{{ request | json}}</code></pre>\n      </div>\n      <div class="col-md-6">\n        <h4>Response</h4>\n        <pre><code class="small">{{ response | json }}</code></pre>\n      </div>\n    </div>\n  </aside>\n\n\n  <footer>\n  </footer>\n\n</div>\n'},552:function(e,t,n){"use strict";var r=n(1),o=n(404),i=function(){function e(e){this.navigator=e,this.model={verb:"GET",url:"hal/orders.json"},this.activeTab="hal",this.links=[]}return e.prototype.ngOnInit=function(){console.log("AppComponent inited.",this.navigator)},e.prototype.onFormSubmit=function(){var e=this;console.log("form model:",this.model),this.navigator.get(this.model.url).subscribe(function(t){e.resource=t.resource,e.response=t.response,e.request=t.request,e.links=e.resource.allLinksFlattenedArray()})},e.prototype.onSwitchTab=function(e){return this.activeTab=e,!1},e.prototype.onNavigate=function(e){return this.model.url=e.href,!1},e=__decorate([r.Component({selector:"app",template:n(556),styles:[n(767)]}),__metadata("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.Navigator&&o.Navigator)&&t||Object])],e);var t}();t.AppComponent=i},553:function(e,t,n){"use strict";var r=n(1),o=n(79),i=n(238),s=n(355),a=n(552),l=n(404),u=[new r.Provider(l.ConversionStrategy,{useFactory:function(){return new l.ConversionStrategyJson}}),l.Navigator],c=function(){function e(){}return e=__decorate([r.NgModule({declarations:[a.AppComponent],bootstrap:[a.AppComponent],imports:[o.BrowserModule,i.HttpModule,s.FormsModule],providers:[u]}),__metadata("design:paramtypes",[])],e)}();t.AppModule=c},554:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}r(n(553))},0:function(e,t,n){"use strict";function r(e){return o.platformBrowserDynamic().bootstrapModule(i.AppModule).then(s.decorateComponentRef).catch(function(e){return console.error(e)})}var o=n(370),i=n(554),s=n(555);t.main=r,document.addEventListener("DOMContentLoaded",function(){return r()})},555:function(e,t,n){"use strict";var r=n(79),o=n(1),i=[],s=function(e){return e};r.disableDebugTools(),o.enableProdMode(),i=i.slice(),t.decorateComponentRef=s,t.ENV_PROVIDERS=i.slice()},597:function(e,t){"use strict";var n=function(){function e(e){this.conversionStrategies=e}return e.prototype.accepts=function(e){var t=this.findFirst(e);return!!t},e.prototype.convert=function(e){var t=this.findFirst(e);if(t)return t.convert(e)},e.prototype.findFirst=function(e){for(var t=0,n=this.conversionStrategies;t<n.length;t++){var r=n[t];if(r.accepts(e))return r}},e}();t.ConversionStrategyComposite=n},598:function(e,t,n){"use strict";var r=n(1),o=n(441),i=n(405),s=function(){function e(){}return e.prototype.accepts=function(e){var t=e.headers.get("Content-Type");return"application/json"===t||"application/hal+json"===t},e.prototype.convert=function(e){var t=e.json();return new i.Resource(o.parse(t))},e=__decorate([r.Injectable(),__metadata("design:paramtypes",[])],e)}();t.ConversionStrategyJson=s},402:function(e,t){"use strict";var n=function(){function e(){}return e}();t.ConversionStrategy=n},403:function(e,t){"use strict";var n=function(){function e(e,t,n){this.request=e,this.response=t,this.resource=n}return e}();t.HalDocument=n},404:function(e,t,n){"use strict";var r=n(441);t.parse=r.parse,t.enableValidation=r.enableValidation,t.disableValidation=r.disableValidation;var o=n(402);t.ConversionStrategy=o.ConversionStrategy;var i=n(598);t.ConversionStrategyJson=i.ConversionStrategyJson;var s=n(597);t.ConversionStrategyComposite=s.ConversionStrategyComposite;var a=n(403);t.HalDocument=a.HalDocument;var l=n(599);t.Navigator=l.Navigator;var u=n(405);t.Resource=u.Resource;var c=n(600);t.Uri=c.Uri},599:function(e,t,n){"use strict";var r=n(1),o=n(238);n(168);var i=n(402),s=n(403),a=function(){function e(e,t){this.http=e,this.conversionStrategy=t}return e.prototype.get=function(e,t){return this.doNavigate(o.RequestMethod.Get,e,t)},e.prototype.post=function(e,t,n){return this.doNavigate(o.RequestMethod.Post,e,n,t)},e.prototype.put=function(e,t,n){return this.doNavigate(o.RequestMethod.Put,e,n,t)},e.prototype.delete=function(e,t){return this.doNavigate(o.RequestMethod.Delete,e,t)},e.prototype.patch=function(e,t,n){return this.doNavigate(o.RequestMethod.Patch,e,n,t)},e.prototype.head=function(e,t){return this.doNavigate(o.RequestMethod.Head,e,t)},e.prototype.options=function(e,t){return this.doNavigate(o.RequestMethod.Options,e,t)},e.prototype.navigate=function(e,t){var n;if("string"==typeof e){var r=t?t:{};r.url=e,n=new o.Request(new o.RequestOptions(t))}else n=e;return this.doHttp(n)},e.prototype.doNavigate=function(e,t,n,r){n?(n.url=t,n.method=e):n={url:t,method:e},r&&(n.body=r);var i=new o.Request(new o.RequestOptions(n));return this.doHttp(i)},e.prototype.doHttp=function(e){var t=this;return this.http.request(e).map(function(n){return t.doConvert(e,n)})},e.prototype.doConvert=function(e,t){var n=this.conversionStrategy.convert(t);return new s.HalDocument(e,t,n)},e=__decorate([r.Injectable(),__metadata("design:paramtypes",[o.Http,i.ConversionStrategy])],e)}();t.Navigator=a},405:function(e,t){"use strict";var n=function(){function e(e){this.delegate=e}return e.prototype.allLinksFlattenedArray=function(){var e=[],t=this.allLinks();for(var n in t)if("array"==typeof this.linkArray(n))for(var r=this.linkArray(n),o=0,i=r;o<i.length;o++){var s=i[o],a=s;a.rel=n,e.push(a)}return e},e.prototype.allLinkArrays=function(){return this.delegate.allLinkArrays()},e.prototype.allLinks=function(){return this.delegate.allLinks()},e.prototype.linkArray=function(e){return this.delegate.linkArray(e)},e.prototype.link=function(e){return this.delegate.link(e)},e.prototype.allEmbeddedResourceArrays=function(){return this.delegate.allEmbeddedResourceArrays()},e.prototype.allEmbeddedArrays=function(){return this.delegate.allEmbeddedArrays()},e.prototype.allEmbeddedResources=function(){return this.delegate.allEmbeddedResources()},e.prototype.embeddedResourceArray=function(t){return this.delegate.embeddedResourceArray(t).map(function(t){return new e(t)})},e.prototype.embeddedArray=function(t){return this.delegate.embeddedArray(t).map(function(t){return new e(t)})},e.prototype.embeddedResource=function(t){return new e(this.delegate.embeddedResource(t))},e.prototype.embedded=function(t){return new e(this.delegate.embedded(t))},e.prototype.original=function(){return this.delegate.original()},e.prototype.hasCuries=function(){return this.delegate.hasCuries()},e.prototype.curieArray=function(){return this.delegate.curieArray()},e.prototype.curie=function(e){return this.delegate.curie(e)},e.prototype.reverseResolveCurie=function(e){return this.delegate.reverseResolveCurie(e)},e.prototype.validationIssues=function(){return this.delegate.validationIssues()},e.prototype.validation=function(){return this.delegate.validation()},e}();t.Resource=n},600:function(e,t,n){"use strict";var r=n(764);console.log(r),console.log(r("http://www.foo.com/{foo}?{bar*}").fillFromObject({foo:123,bar:789}));var o=function(){function e(e){this.url=e}return e.of=function(t){return new e(t)},e.prototype.concrete=function(e){return r(this.url).fillFromObject(e)},e}();t.Uri=o},441:function(e,t,n){var r=n(762),o=n(442),i=!1;e.exports={parse:function(e){return(new r).parse(e,i)},enableValidation:function(e){i=null==e||e},disableValidation:function(){i=!1},Resource:o}},761:function(e,t){"use strict";function n(){arguments.length>=1?this._array=arguments[0]:this._array=[]}n.prototype.array=function(){return this._array},n.prototype.isEmpty=function(e){return 0===this._array.length},n.prototype.push=function(e){var t=this._array.slice(0);return t.push(e),new n(t)},n.prototype.pop=function(){var e=this._array.slice(0,this._array.length-1);return new n(e)},n.prototype.peek=function(){if(this.isEmpty())throw new Error("can't peek on empty stack");return this._array[this._array.length-1]},e.exports=n},762:function(e,t,n){"use strict";function r(){}function o(e,t,n){if(null==e)return e;var r=i(e._links,t,n.push("_links")),o=s(r),u=a(e._embedded,t,n.push("_embedded")),c=new b(r,o,u,t);return l(e,c),c._original=e,c}function i(e,t,n){return e=u(e,p,t,n),null!=e&&null!=e.self||v("Resource does not have a self link",t,n),e}function s(e){return e?e.curies:[]}function a(e,t,n){var r=u(e,h,t,n);return null==r?r:(Object.keys(r).forEach(function(e){r[e]=r[e].map(function(r){var i=null!=t?[]:null,s=o(r,i,n.push(e));return s._original=r,s})}),r)}function l(e,t){Object.keys(e).forEach(function(n){"_links"!==n&&"_embedded"!==n&&(t[n]=e[n])})}function u(e,t,n,r){if(null==e)return e;var o={};return Object.keys(e).forEach(function(i){o[i]=c(i,e[i],t,n,r)}),o}function c(e,t,n,r,o){return d(t)?t.map(function(t){return n(e,t,r,o)}):[n(e,t,r,o)]}function p(e,t,n,r){if(!f(t))throw new Error("Link object is not an actual object: "+t+" ["+typeof t+"]");var o=m(t);return Object.keys(_).forEach(function(t){null==o[t]&&(_[t].required&&v("Link misses required property "+t+".",n,r.push(e)),null!=_[t].defaultValue&&(o[t]=_[t].defaultValue))}),o.deprecation&&g("Warning: Link "+y(r.push(e))+" is deprecated, see "+o.deprecation),o.templated!==!0&&o.templated!==!1&&(o.templated=!1),n?(o.href&&o.href.indexOf("{")>=0&&!o.templated&&v('Link seems to be an URI template but its "templated" property is not set to true.',n,r.push(e)),o):o}function d(e){return"[object Array]"===Object.prototype.toString.call(e)}function f(e){return"object"==typeof e}function h(e,t){return t}function v(e,t,n){t&&t.push({path:y(n),message:e})}function g(e){"undefined"!=typeof console&&"function"==typeof console.log&&console.log(e)}function m(e){var t={};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function y(e){for(var t="$.",n=0;n<e.array().length;n++)t+=e.array()[n]+".";return t=t.substring(0,t.length-1)}var b=n(442),k=n(761),_={href:{required:!0,defaultValue:null},templated:{required:!1,defaultValue:!1},type:{required:!1,defaultValue:null},deprecation:{required:!1,defaultValue:null},name:{required:!1,defaultValue:null},profile:{required:!1,defaultValue:null},title:{required:!1,defaultValue:null},hreflang:{required:!1,defaultValue:null}};r.prototype.parse=function(e,t){var n=t?[]:null;return o(e,n,new k)},e.exports=r},442:function(e,t){"use strict";function n(e,t,n,r){this._links=e||{},this._initCuries(t),this._embedded=n||{},this._validation=r||[]}function r(e,t){return null!=e?e[t]:null}function o(e,t,n){n=n||0;var o=r(e,t);return null!=o&&o.length>=1?o[n]:null}n.prototype._initCuries=function(e){if(this._curiesMap={},e){this._curies=e;for(var t=0;t<this._curies.length;t++){var n=this._curies[t];this._curiesMap[n.name]=n}}else this._curies=[];this._preResolveCuries()},n.prototype._preResolveCuries=function(){this._resolvedCuriesMap={};for(var e=0;e<this._curies.length;e++){var t=this._curies[e];if(t.name)for(var n in this._links)"curies"!==n&&this._preResolveCurie(t,n)}},n.prototype._preResolveCurie=function(e,t){var n=(this._links[t],t.split(/:(.+)/)),r=n[0];if(e.name===r)if(e.templated&&n.length>=1){var o=e.href.replace(/(.*){(.*)}(.*)/,"$1"+n[1]+"$3");this._resolvedCuriesMap[o]=t}else this._resolvedCuriesMap[e.href]=t},n.prototype.allLinkArrays=function(){return this._links},n.prototype.linkArray=function(e){return r(this._links,e)},n.prototype.link=function(e,t){return o(this._links,e,t)},n.prototype.hasCuries=function(e){return this._curies.length>0},n.prototype.curieArray=function(e){return this._curies},n.prototype.curie=function(e){return this._curiesMap[e]},n.prototype.reverseResolveCurie=function(e){return this._resolvedCuriesMap[e]},n.prototype.allEmbeddedResourceArrays=function(){return this._embedded},n.prototype.embeddedResourceArray=function(e){return r(this._embedded,e)},n.prototype.embeddedResource=function(e,t){return o(this._embedded,e,t)},n.prototype.original=function(){return this._original},n.prototype.validationIssues=function(){return this._validation},n.prototype.allLinks=n.prototype.allLinkArrays,n.prototype.allEmbeddedArrays=n.prototype.allEmbeddedResources=n.prototype.allEmbeddedResourceArrays,n.prototype.embeddedArray=n.prototype.embeddedResourceArray,n.prototype.embedded=n.prototype.embeddedResource,n.prototype.validation=n.prototype.validationIssues,e.exports=n},764:function(e,t,n){var r,o,i;!function(n,s){o=[],r=s,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(){function e(e){return encodeURI(e).replace(/%25[0-9][0-9]/g,function(e){return"%"+e.substring(3)})}function t(e){return e=e.replace(/%../g,""),encodeURIComponent(e)===e}function n(n){var r="";o[n.charAt(0)]&&(r=n.charAt(0),n=n.substring(1));var s="",a="",l=!0,u=!1,c=!1;"+"==r?l=!1:"."==r?(a=".",s="."):"/"==r?(a="/",s="/"):"#"==r?(a="#",l=!1):";"==r?(a=";",s=";",u=!0,c=!0):"?"==r?(a="?",s="&",u=!0):"&"==r&&(a="&",s="&",u=!0);for(var p=[],d=n.split(","),f=[],h={},v=0;v<d.length;v++){var g=d[v],m=null;if(g.indexOf(":")!=-1){var y=g.split(":");g=y[0],m=parseInt(y[1])}for(var b={};i[g.charAt(g.length-1)];)b[g.charAt(g.length-1)]=!0,g=g.substring(0,g.length-1);var k={truncate:m,name:g,suffices:b};f.push(k),h[g]=k,p.push(g)}var _=function(t){for(var n="",r=0,o=0;o<f.length;o++){var i=f[o],p=t(i.name);if(null==p||Array.isArray(p)&&0==p.length||"object"==typeof p&&0==Object.keys(p).length)r++;else if(n+=o==r?a:s||",",Array.isArray(p)){u&&(n+=i.name+"=");for(var d=0;d<p.length;d++)d>0&&(n+=i.suffices["*"]?s||",":",",i.suffices["*"]&&u&&(n+=i.name+"=")),n+=l?encodeURIComponent(p[d]).replace(/!/g,"%21"):e(p[d])}else if("object"==typeof p){u&&!i.suffices["*"]&&(n+=i.name+"=");var h=!0;for(var v in p)h||(n+=i.suffices["*"]?s||",":","),h=!1,n+=l?encodeURIComponent(v).replace(/!/g,"%21"):e(v),n+=i.suffices["*"]?"=":",",n+=l?encodeURIComponent(p[v]).replace(/!/g,"%21"):e(p[v])}else u&&(n+=i.name,c&&""==p||(n+="=")),null!=i.truncate&&(p=p.substring(0,i.truncate)),n+=l?encodeURIComponent(p).replace(/!/g,"%21"):e(p)}return n},R=function(e,n,r){if(a&&(e=e.substring(a.length)),1==f.length&&f[0].suffices["*"]){for(var o=f[0],i=o.name,c=o.suffices["*"]?e.split(s||","):[e],p=l&&e.indexOf("=")!=-1,d=1;d<c.length;d++){var e=c[d];p&&e.indexOf("=")==-1&&(c[d-1]+=(s||",")+e,c.splice(d,1),d--)}for(var d=0;d<c.length;d++){var e=c[d];l&&e.indexOf("=")!=-1&&(p=!0);var v=e.split(",");1==v.length?c[d]=v[0]:c[d]=v}if(u||p){for(var g=n[i]||{},m=0;m<c.length;m++){var y=e;if(!u||y){if("string"==typeof c[m]){var e=c[m],b=e.split("=",1)[0],e=e.substring(b.length+1);if(l){if(r&&!t(e))return;e=decodeURIComponent(e)}y=e}else{var e=c[m][0],b=e.split("=",1)[0],e=e.substring(b.length+1);if(l){if(r&&!t(e))return;e=decodeURIComponent(e)}c[m][0]=e,y=c[m]}if(l){if(r&&!t(b))return;b=decodeURIComponent(b)}void 0!==g[b]?Array.isArray(g[b])?g[b].push(y):g[b]=[g[b],y]:g[b]=y}}1==Object.keys(g).length&&void 0!==g[i]?n[i]=g[i]:n[i]=g}else{if(l)for(var m=0;m<c.length;m++){var v=c[m];if(Array.isArray(v))for(var k=0;k<v.length;k++){if(r&&!t(v[k]))return;v[k]=decodeURIComponent(v[k])}else{if(r&&!t(v))return;c[m]=decodeURIComponent(v)}}void 0!==n[i]?Array.isArray(n[i])?n[i]=n[i].concat(c):n[i]=[n[i]].concat(c):1!=c.length||o.suffices["*"]?n[i]=c:n[i]=c[0]}}else{for(var c=1==f.length?[e]:e.split(s||","),_={},d=0;d<c.length;d++){for(var R=0;R<f.length-1&&R<d&&!f[R].suffices["*"];R++);if(R!=d){for(var A=f.length-1;A>0&&f.length-A<c.length-d&&!f[A].suffices["*"];A--);f.length-A!=c.length-d?_[d]=R:_[d]=A}else _[d]=d}for(var d=0;d<c.length;d++){var e=c[d];if(e||!u){var v=e.split(","),p=!1;if(u){var e=v[0],i=e.split("=",1)[0],e=e.substring(i.length+1);v[0]=e;var o=h[i]||f[0]}else var o=f[_[d]],i=o.name;for(var m=0;m<v.length;m++)if(l){if(r&&!t(v[m]))return;v[m]=decodeURIComponent(v[m])}(u||o.suffices["*"])&&void 0!==n[i]?Array.isArray(n[i])?n[i]=n[i].concat(v):n[i]=[n[i]].concat(v):1!=v.length||o.suffices["*"]?n[i]=v:n[i]=v[0]}}}return 1};return{varNames:p,prefix:a,substitution:_,unSubstitution:R}}function r(e){if(!(this instanceof r))return new r(e);for(var t=e.split("{"),o=[t.shift()],i=[],s=[],a=[],l=[];t.length>0;){var u=t.shift(),c=u.split("}")[0],p=u.substring(c.length+1),d=n(c);s.push(d.substitution),a.push(d.unSubstitution),i.push(d.prefix),o.push(p),l=l.concat(d.varNames)}this.fill=function(e){if(e&&"function"!=typeof e){var t=e;e=function(e){return t[e]}}for(var n=o[0],r=0;r<s.length;r++){var i=s[r];n+=i(e),n+=o[r+1]}return n},this.fromUri=function(e,t){t=t||{};for(var n={},r=0;r<o.length;r++){var s=o[r];if(e.substring(0,s.length)!==s)return;if(e=e.substring(s.length),r>=o.length-1){if(""==e)break;return}var l=i[r];if(!l||e.substring(0,l.length)===l){for(var u=o[r+1],c=r;;){if(c==o.length-2){var p=e.substring(e.length-u.length);if(p!==u)return;var d=e.substring(0,e.length-u.length);e=p}else if(u){var f=e.indexOf(u),d=e.substring(0,f);e=e.substring(f)}else if(i[c+1]){var f=e.indexOf(i[c+1]);f===-1&&(f=e.length);var d=e.substring(0,f);e=e.substring(f)}else{if(o.length>c+2){c++,u=o[c+1];continue}var d=e;e=""}break}if(!a[r](d,n,t.strict))return}}return n},this.varNames=l,this.template=e}var o={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},i={"*":!0};return r.prototype={toString:function(){return this.template},fillFromObject:function(e){return this.fill(e)},test:function(e,t){return!!this.fromUri(e,t)}},r})}});
//# sourceMappingURL=main.bc14da10423a9054066b.bundle.map